## 서버리스 (Serverless)

서버리스는 클라우드 컴퓨팅의 모델 중 하나로 사용자가 서버를 직접 관리할 필요가 없는 모델을 의미한다.  
우리가 원하는 기능, 설정값들만 맞춰주면 AWS가 알아서 관리해준다.

<br>

### 서버리스 프론트엔드?

HTML, Javascript, CSS 파일로 웹사이트를 만들기 위해서는, 
별도로 해당 파일들이 배포될 서버가 필요하고, 
Apache, Nginx와 같은 웹서버 설치가 꼭 필요하다.  
그리고 이런 부분들을 지속적으로 관리해 줘야 한다.

S3 정적 웹 사이트 기능을 이용하면 위와 같은 절차를 밟을 필요 없이, 파일들을 AWS S3에 업로드하고, 설정값들을 맞춰주면 된다.

S3 버킷에 index.html을 올려서 정적 웹 호스팅 기능을 사용했고, 이를 바탕으로 CloudFront도 적용하고, 가비아와 연결해 도메인도 설정해봤다

하지만 이제는 가비아와 연결해서 직접 DNS설정해주는 것보다 Route53을 이용한다고 하더라.  
Route53을 생성해 가비아 네임서버를 설정해주면, 가비아에서 할 일은 끝나게 된다.  
Certificate Manager를 다시 생성하고, S3 버킷 정책을 변경해주고, Route53 레코드를 생성해주면, 설정한 도메인으로 접근했을 때 잘 동작하는 것을 확인할 수 있었다.  
그리고 AWS WAF를 통해 특정 IP의 접근을 막거나, SQL 인젝션을 설정해 방어할 수 있었다.

### 참고
https://velog.io/@hellonayeon/serverless-frontend

<br>

### 서버리스 백엔드?

기존 방식의 어려웠던 점

```
1. 관리 부분
EC2 인스턴스로 백엔드를 구성하면, EC2를 직접 관리해주어야 한다.
인스턴스 크기를 선택하고, OS 업데이트 해야하고, 디스크 용량 조절등등, 관리가 필요하다는 부담이 있다.

EC2 1개에도 설정해 줄 부분이 많은데 100, 1000개라면?
관리해야 하는 부분이 너무 많아진다는 큰 단점이 있다.


2. 확장의 유연성
EC2로 운영하고 있는 서비스에 갑자기 많은 트래픽이 몰린다면 어떻게 해야할까?

EC2를 추가해 부하를 분산시키거나 인스턴스 유형을 조절해서 처리할 수 있도록 해야 한다.  
하지만, 운영 중인 서비스에서 이런 대응은 쉽지 않다. 서비스 정상화에 시간이 많이 걸릴 것이기 때문이다.
```
이러한 부분의 해결책으로 등장한 것이 서버리스 백엔드가 등장!

<br>

### Lambda
서버리스 인프라를 구성하게 AWS에서 만들어진 서비스이다.

서버리스 프론트엔드의 S3처럼 백엔드를 서버리스로 운영할 수 있는 서비스이다.  
Lambda를 통해 백엔드도 인프라를 신경쓰지 않고 운영할 수 있다.

#### Lambda vs 기존
기존의 개발/배포 방식은 프레임워크에 의존해 작업을 하고, 모든 기능을 포함한 전체를 배포하는 순이었다.

하지만 Lambda는 기본적으로 함수 단위로 배포한다.  
장점으로는, 필요할때만 함수가 호출되고 비용이 부과되는 방식이라 비용이 절감된다는 점, 인프라 관리에 대한 부담을 덜 수 있다는 점등이 있겠고, 단점으로는, 리소스가 제한되어 있고(메모리 최대10GB, 처리시간 최대 15분), 동시에 처리할 수 있는 요청의 수가 리전별 1000개로 제한되어 있다는 점등이 있다.

### 참고
https://velog.io/@hellonayeon/serverless-backend